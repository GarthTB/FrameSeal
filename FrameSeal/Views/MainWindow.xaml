<Window
    x:Class="FrameSeal.Views.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:vm="clr-namespace:FrameSeal.ViewModels"
    Title="Frame Seal 图像边框工具 v1.3.0"
    Height="512"
    Width="1080"
    FontSize="14"
    AllowDrop="True"
    UseLayoutRounding="True">
    <Window.DataContext>
        <vm:MainViewModel />
    </Window.DataContext>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="234" />
            <ColumnDefinition />
            <ColumnDefinition Width="272" />
        </Grid.ColumnDefinitions>
        <Grid Margin="12, 11">
            <Grid.RowDefinitions>
                <RowDefinition Height="14*" />
                <RowDefinition Height="5*" />
                <RowDefinition Height="90*" />
                <RowDefinition Height="5*" />
                <RowDefinition Height="14*" />
                <RowDefinition Height="5*" />
                <RowDefinition Height="33*" />
                <RowDefinition Height="5*" />
                <RowDefinition Height="14*" />
                <RowDefinition Height="5*" />
                <RowDefinition Height="14*" />
                <RowDefinition Height="5*" />
                <RowDefinition Height="14*" />
            </Grid.RowDefinitions>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition />
                    <ColumnDefinition Width="11" />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <Button
                    Command="{Binding AddPathCommand}"
                    Content="添加图像"
                    Drop="ImgPathsDrop" />
                <Button
                    Grid.Column="2"
                    Command="{Binding RemovePathCommand}"
                    Content="移除图像"
                    Drop="ImgPathsDrop" />
            </Grid>
            <ListBox
                Grid.Row="2"
                ItemsSource="{Binding ImgPaths}"
                SelectedIndex="{Binding ImgPathIdx}"
                ToolTip="可以将图像拽进来&#x0a;选中以查看预览"
                Drop="ImgPathsDrop" />
            <Grid Grid.Row="4">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="94" />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <CheckBox
                    Padding="8,0,0,0"
                    VerticalContentAlignment="Center"
                    IsChecked="{Binding UseIcon}"
                    Content="嵌入图标"
                    ToolTip="可以将图标拽进来"
                    Drop="IconPathDrop" />
                <Button
                    Grid.Column="1"
                    Command="{Binding PickIconCommand}"
                    Content="选取图标"
                    ToolTip="可以将图标拽进来"
                    Drop="IconPathDrop" />
            </Grid>
            <TextBox
                Grid.Row="6"
                IsReadOnly="True"
                TextWrapping="Wrap"
                Text="{Binding IconPath, Mode=OneWay}" />
            <Grid Grid.Row="8">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="70" />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <Label
                    Padding="2,0,0,0"
                    VerticalContentAlignment="Center"
                    Content="图标间距" />
                <TextBox
                    Grid.Column="1"
                    HorizontalContentAlignment="Center"
                    VerticalContentAlignment="Center"
                    IsEnabled="{Binding UseIcon}"
                    MaxLength="10"
                    Text="{Binding IconGap, UpdateSourceTrigger=PropertyChanged}"
                    ToolTip="图标与文字的间距（文字高度的倍数）&#x0a;正数使图标在文字左侧" />
            </Grid>
            <Grid Grid.Row="10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="70" />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <Label
                    Padding="2,0,0,0"
                    VerticalContentAlignment="Center"
                    Content="保存格式" />
                <ComboBox
                    Grid.Column="1"
                    Padding="6,0"
                    VerticalContentAlignment="Center"
                    ItemsSource="{Binding SaveFormats}"
                    SelectedIndex="{Binding SaveFormatIdx}" />
            </Grid>
            <Grid Grid.Row="12">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="94" />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <CheckBox
                    Padding="8,0,0,0"
                    VerticalContentAlignment="Center"
                    IsChecked="{Binding EnablePreview}"
                    Content="实时预览"
                    ToolTip="开启后，选中图像路径以查看预览" />
                <Button
                    Grid.Column="1"
                    Command="{Binding RunCommand}"
                    Content="开始执行" />
            </Grid>
        </Grid>
        <Image Grid.Column="1" Source="{Binding PreviewImg}" />
        <Grid Grid.Column="2" Margin="12,11">
            <Grid.RowDefinitions>
                <RowDefinition Height="14*" />
                <RowDefinition Height="5*" />
                <RowDefinition Height="14*" />
                <RowDefinition Height="5*" />
                <RowDefinition Height="14*" />
                <RowDefinition Height="5*" />
                <RowDefinition Height="14*" />
                <RowDefinition Height="5*" />
                <RowDefinition Height="14*" />
                <RowDefinition Height="5*" />
                <RowDefinition Height="14*" />
                <RowDefinition Height="5*" />
                <RowDefinition Height="14*" />
                <RowDefinition Height="5*" />
                <RowDefinition Height="14*" />
                <RowDefinition Height="5*" />
                <RowDefinition Height="14*" />
                <RowDefinition Height="5*" />
                <RowDefinition Height="14*" />
                <RowDefinition Height="5*" />
                <RowDefinition Height="14*" />
                <RowDefinition Height="5*" />
                <RowDefinition Height="14*" />
            </Grid.RowDefinitions>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition />
                    <ColumnDefinition Width="11" />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <Label
                    Padding="2,0,0,0"
                    Grid.ColumnSpan="2"
                    VerticalContentAlignment="Center"
                    Content="圆角、边框比例" />
                <TextBox
                    Grid.Column="2"
                    HorizontalContentAlignment="Center"
                    VerticalContentAlignment="Center"
                    MaxLength="10"
                    Text="{Binding CornerRatio, UpdateSourceTrigger=PropertyChanged}"
                    ToolTip="圆角比例（图像短边长的倍数）[0, 0.5]" />
            </Grid>
            <Grid Grid.Row="2">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition />
                    <ColumnDefinition Width="11" />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <TextBox
                    HorizontalContentAlignment="Center"
                    VerticalContentAlignment="Center"
                    MaxLength="10"
                    Text="{Binding BorderL, UpdateSourceTrigger=PropertyChanged}"
                    ToolTip="左边框比例（图像宽的倍数）[0,)" />
                <TextBox
                    Grid.Column="2"
                    HorizontalContentAlignment="Center"
                    VerticalContentAlignment="Center"
                    MaxLength="10"
                    Text="{Binding BorderR, UpdateSourceTrigger=PropertyChanged}"
                    ToolTip="右边框比例（图像宽的倍数）[0,)" />
            </Grid>
            <Grid Grid.Row="4">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition />
                    <ColumnDefinition Width="11" />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <TextBox
                    HorizontalContentAlignment="Center"
                    VerticalContentAlignment="Center"
                    MaxLength="10"
                    Text="{Binding BorderT, UpdateSourceTrigger=PropertyChanged}"
                    ToolTip="上边框比例（图像高的倍数）[0,)" />
                <TextBox
                    Grid.Column="2"
                    HorizontalContentAlignment="Center"
                    VerticalContentAlignment="Center"
                    MaxLength="10"
                    Text="{Binding BorderB, UpdateSourceTrigger=PropertyChanged}"
                    ToolTip="下边框比例（图像高的倍数）[0,)" />
            </Grid>
            <Grid Grid.Row="6">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="70" />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <Label
                    Padding="2,0,0,0"
                    VerticalContentAlignment="Center"
                    Content="边框颜色" />
                <TextBox
                    Grid.Column="1"
                    HorizontalContentAlignment="Center"
                    VerticalContentAlignment="Center"
                    MaxLength="9"
                    Text="{Binding BorderColor, UpdateSourceTrigger=PropertyChanged}"
                    ToolTip="#RRGGBB或#RRGGBBAA，若无效则变红&#x0a;例如：#080808FF" />
            </Grid>
            <Grid Grid.Row="8">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="70" />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <Label
                    Padding="2,0,0,0"
                    VerticalContentAlignment="Center"
                    Content="字体名称" />
                <ComboBox
                    Grid.Column="1"
                    Padding="6,0"
                    VerticalContentAlignment="Center"
                    ItemsSource="{Binding FontNames}"
                    SelectedIndex="{Binding FontNameIdx}" />
            </Grid>
            <Grid Grid.Row="10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="70" />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <Label
                    Padding="2,0,0,0"
                    VerticalContentAlignment="Center"
                    Content="文字比例" />
                <TextBox
                    Grid.Column="1"
                    HorizontalContentAlignment="Center"
                    VerticalContentAlignment="Center"
                    MaxLength="10"
                    Text="{Binding TextRatio, UpdateSourceTrigger=PropertyChanged}"
                    ToolTip="文字比例（下边框高的倍数）[0,)" />
            </Grid>
            <Grid Grid.Row="12">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="70" />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <Label
                    Padding="2,0,0,0"
                    VerticalContentAlignment="Center"
                    Content="文字颜色" />
                <TextBox
                    Grid.Column="1"
                    HorizontalContentAlignment="Center"
                    VerticalContentAlignment="Center"
                    MaxLength="9"
                    Text="{Binding TextColor, UpdateSourceTrigger=PropertyChanged}"
                    ToolTip="#RRGGBB或#RRGGBBAA，若无效则变红&#x0a;例如：#C0A208FF" />
            </Grid>
            <Grid Grid.Row="14">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="3*" />
                    <ColumnDefinition Width="11" />
                    <ColumnDefinition Width="5*" />
                </Grid.ColumnDefinitions>
                <ComboBox
                    Padding="6,0"
                    VerticalContentAlignment="Center"
                    ItemsSource="{Binding InfoKeys}"
                    SelectedIndex="{Binding InfoKeyIdx1}"
                    ToolTip="若存在，指定的信息将从左到右排开&#x0a;若不需要，请选择“自定义”并留空" />
                <TextBox
                    Grid.Column="2"
                    HorizontalContentAlignment="Center"
                    VerticalContentAlignment="Center"
                    Text="{Binding InfoText1, UpdateSourceTrigger=PropertyChanged}"
                    ToolTip="不选择“自定义”时忽略&#x0a;不支持中文" />
            </Grid>
            <Grid Grid.Row="16">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="3*" />
                    <ColumnDefinition Width="11" />
                    <ColumnDefinition Width="5*" />
                </Grid.ColumnDefinitions>
                <ComboBox
                    Padding="6,0"
                    VerticalContentAlignment="Center"
                    ItemsSource="{Binding InfoKeys}"
                    SelectedIndex="{Binding InfoKeyIdx2}"
                    ToolTip="若存在，指定的信息将从左到右排开&#x0a;若不需要，请选择“自定义”并留空" />
                <TextBox
                    Grid.Column="2"
                    HorizontalContentAlignment="Center"
                    VerticalContentAlignment="Center"
                    Text="{Binding InfoText2, UpdateSourceTrigger=PropertyChanged}"
                    ToolTip="不选择“自定义”时忽略&#x0a;不支持中文" />
            </Grid>
            <Grid Grid.Row="18">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="3*" />
                    <ColumnDefinition Width="11" />
                    <ColumnDefinition Width="5*" />
                </Grid.ColumnDefinitions>
                <ComboBox
                    Padding="6,0"
                    VerticalContentAlignment="Center"
                    ItemsSource="{Binding InfoKeys}"
                    SelectedIndex="{Binding InfoKeyIdx3}"
                    ToolTip="若存在，指定的信息将从左到右排开&#x0a;若不需要，请选择“自定义”并留空" />
                <TextBox
                    Grid.Column="2"
                    HorizontalContentAlignment="Center"
                    VerticalContentAlignment="Center"
                    Text="{Binding InfoText3, UpdateSourceTrigger=PropertyChanged}"
                    ToolTip="不选择“自定义”时忽略&#x0a;不支持中文" />
            </Grid>
            <Grid Grid.Row="20">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="3*" />
                    <ColumnDefinition Width="11" />
                    <ColumnDefinition Width="5*" />
                </Grid.ColumnDefinitions>
                <ComboBox
                    Padding="6,0"
                    VerticalContentAlignment="Center"
                    ItemsSource="{Binding InfoKeys}"
                    SelectedIndex="{Binding InfoKeyIdx4}"
                    ToolTip="若存在，指定的信息将从左到右排开&#x0a;若不需要，请选择“自定义”并留空" />
                <TextBox
                    Grid.Column="2"
                    HorizontalContentAlignment="Center"
                    VerticalContentAlignment="Center"
                    Text="{Binding InfoText4, UpdateSourceTrigger=PropertyChanged}"
                    ToolTip="不选择“自定义”时忽略&#x0a;不支持中文" />
            </Grid>
            <Grid Grid.Row="22">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="3*" />
                    <ColumnDefinition Width="11" />
                    <ColumnDefinition Width="5*" />
                </Grid.ColumnDefinitions>
                <ComboBox
                    Padding="6,0"
                    VerticalContentAlignment="Center"
                    ItemsSource="{Binding InfoKeys}"
                    SelectedIndex="{Binding InfoKeyIdx5}"
                    ToolTip="若存在，指定的信息将从左到右排开&#x0a;若不需要，请选择“自定义”并留空" />
                <TextBox
                    Grid.Column="2"
                    HorizontalContentAlignment="Center"
                    VerticalContentAlignment="Center"
                    Text="{Binding InfoText5, UpdateSourceTrigger=PropertyChanged}"
                    ToolTip="不选择“自定义”时忽略&#x0a;不支持中文" />
            </Grid>
        </Grid>
    </Grid>
</Window>